"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("node:fs"),f=require("node:path");async function c(e,n={}){const{filter:l=y,recursive:o=!1,exclude:a}=n;try{const s=await d.promises.readdir(e,{withFileTypes:!0}),i=[];return await Promise.all(s.map(async r=>{const t=f.join(e,r.name);if(!(a&&a.test(r.name))){if(r.isFile()&&l(r,t))i.push(t);else if(r.isDirectory()&&o){const u=await c(t,n);i.push(...u)}}})),i}catch(s){return console.error(`Error reading directory ${e}:`,s),[]}}function y(e,n){return e.name.includes("$id")}exports.enhancedFindFiles=c;
